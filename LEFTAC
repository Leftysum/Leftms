-- GUI Setup
local gui = Instance.new("ScreenGui", game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui"))
gui.Name = "LEFTAC"
gui.ResetOnSpawn = false
gui.IgnoreGuiInset = true

-- Create a main frame for the settings
local mainFrame = Instance.new("Frame", gui)
mainFrame.Size = UDim2.new(0, 170, 0, 230)
mainFrame.Position = UDim2.new(0, 10, 0, 50)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.BorderSizePixel = 0
mainFrame.Visible = false
mainFrame.ZIndex = 1

-- Create the "Open/Close LEFTAC" button in the top-right corner
local toggleBtn = Instance.new("TextButton")
toggleBtn.Size = UDim2.new(0, 120, 0, 35)
toggleBtn.Position = UDim2.new(1, -130, 0, 10)  -- Positioned top-right
toggleBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
toggleBtn.Text = "Open LEFTAC"
toggleBtn.TextColor3 = Color3.new(1, 1, 1)
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextSize = 14
toggleBtn.ZIndex = 2
toggleBtn.Parent = gui

-- Toggle logic for the button
toggleBtn.MouseButton1Click:Connect(function()
	mainFrame.Visible = not mainFrame.Visible
	toggleBtn.Text = mainFrame.Visible and "Close LEFTAC" or "Open LEFTAC"
end)

-- Create a function to create buttons for each feature
local function createFeatureButton(name, onText, offText, callback)
	local btn = Instance.new("TextButton", mainFrame)
	btn.Size = UDim2.new(1, -10, 0, 30)
	btn.Position = UDim2.new(0, 5, 0, #mainFrame:GetChildren() * 32)
	btn.Text = offText
	btn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
	btn.TextColor3 = Color3.new(1, 1, 1)
	btn.Font = Enum.Font.SourceSansBold
	btn.TextSize = 14

	btn.MouseButton1Click:Connect(function()
		callback(btn)
		btn.Text = btn.Text == offText and onText or offText
	end)

	return btn
end

-- Kill Aura toggle (on/off button) - **No changes to this part**
local killAuraOn = false
createFeatureButton("Kill Aura", "Kill Aura: ON", "Kill Aura: OFF", function(btn)
	killAuraOn = not killAuraOn
end)

-- Speed Boost toggle (on/off button)
local speedBoostOn = false
createFeatureButton("Speed Boost", "Speed Boost: ON", "Speed Boost: OFF", function(btn)
	speedBoostOn = not speedBoostOn
end)

-- No Sword Cooldown toggle (on/off button)
local noSwordCooldown = false
createFeatureButton("No Sword Cooldown", "No Sword Cooldown: ON", "No Sword Cooldown: OFF", function(btn)
	noSwordCooldown = not noSwordCooldown
end)

-- No Click Delay toggle (on/off button)
local noClickDelay = false
createFeatureButton("No Click Delay", "No Click Delay: ON", "No Click Delay: OFF", function(btn)
	noClickDelay = not noClickDelay
end)

-- Infinite Jump toggle (on/off button)
local infJump = false
createFeatureButton("Infinite Jump", "Infinite Jump: ON", "Infinite Jump: OFF", function(btn)
	infJump = not infJump
end)

-- FPS Boost toggle (on/off button)
local fpsBoost = false
createFeatureButton("FPS Boost", "FPS Boost: ON", "FPS Boost: OFF", function(btn)
	fpsBoost = not fpsBoost
end)

-- Infinite Jump Logic (ensure it works)
game:GetService("UserInputService").JumpRequest:Connect(function()
	if infJump then
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid"):ChangeState(Enum.HumanoidStateType.Jumping)
	end
end)

-- Speed Boost Logic (apply a speed boost of 20)
game:GetService("RunService").Heartbeat:Connect(function()
	if speedBoostOn then
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").WalkSpeed = 20
	else
		game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid").WalkSpeed = 16 -- Default speed
	end
end)

-- Kill Aura Logic (360 degree hit)
task.spawn(function()
	while true do
		if killAuraOn and game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
			local hrp = game.Players.LocalPlayer.Character.HumanoidRootPart
			for _, player in pairs(game.Players:GetPlayers()) do
				if player ~= game.Players.LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
					local target = player.Character
					local dist = (target.HumanoidRootPart.Position - hrp.Position).Magnitude
					if dist <= 15 and target:FindFirstChild("Humanoid") and target.Humanoid.Health > 0 then
						-- Fire an event or perform attack logic
						-- Here we simulate a hit, you can extend with an actual damage function
					end
				end
			end
		end
		task.wait(0.1)
	end
end)
